<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oneHourmaid - Sign up form</title>
    <link rel="stylesheet" href="./assets/css/main.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css"
        type="text/css">

</head>

<body id="registerPageBody">


    <!--TOP CONTENTS-->
    <div class="top_contents__reg">
        <h1 class="main_title__reg">Let's get you registered</h1>
    </div>
    <p class="registered_blurb">In order to get you cleaning<br>we'll need a few details.</p>

    <button class="back_button">
        <img src="./assets/images/previous_arrow.png" alt="" class="arrow_icon">
    </button>
    <!--TOP CONTENTS //-->

    <!--REGISTER FORM INFO POP UPS-->
    <div class="username_popup">
        <p class="username_popup_text">Username must contain:<br>
        <span id="uppercase_user" class="invalid">At least 1 uppercase letter</span><br>
        <span id="numbers_char" class="invalid">A minimum of 7 characters</span>
        </p>
    </div>
    <div class="password_popup">
        <p class="username_popup_text">Password must contain:<br>
            <span id="number" class="invalid">A number</span><br>
            <span id="lowercase" class="invalid">A lowercase letter</span><br>
            <span id="uppercase" class="invalid">An uppercase letter</span><br>
            <span id="length" class="invalid">Minimum of 8 characters</span>
        </p>
    </div>
    <div class="confirm_pw_popup">
        <p class="username_popup_text">Please <span class="white_text">confirm</span> your password</p>
    </div>
    <!--REGISTER FORM INFO POP UPS //-->

    <!--USER SIGN UP FORM-->

    <div class="reg_form_wrap">

        <form class="user_signup_form">

            <div class="input_wraps">
                <span class="username_label placeholder_labels">Username</span>
                <input class="reg_inputs" id="username_reg" type="text" name="username_reg">
            </div>
            <div class="input_wraps">
                <span class="password_label placeholder_labels">Password</span>
                <input class="reg_inputs" id="password_reg" type="password" name="password_reg"
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
            </div>
            <div class="input_wraps">
                <span class="confirm_pw_label placeholder_labels">Confirm password</span>
                <input class="reg_inputs" id="confirm_pw_reg" type="password" name="confirm_pw_reg">
            </div>
            <h2 class="tools_title">Tools</h2>
            <p class="tools_blurb">Please tap the eqipment you will be using.</p>

            <!--TOOLS-->

            <div class="check_wrap">
                <span class="tools_labels mop_label">Mop & Bucket</span>
                <input type="button" value="" class="check_btns" id="mop_check_btn">
            </div>
            <div class="check_wrap">
                <span class="tools_labels sponges_label">Sponges & Sprays</span>
                <input type="button" data-value="Sponges" class="check_btns" id="sponges_check_btn">
            </div>
            <div class="check_wrap">
                <span class="tools_labels vacuum_label">Vacuum Cleaner</span>
                <input type="button" value="" class="check_btns" id="vacuum_check_btn">
            </div>
            <div class="check_wrap">
                <span class="tools_labels steamer_label">Carpet Steamer</span>
                <input type="button" value="" class="check_btns" id="steamer_check_btn">
            </div>
            <div class="check_wrap">
                <span class="tools_labels iron_label">Iron</span>
                <input type="button" value="" class="check_btns" id="iron_check_btn">
            </div>
            <button type="submit" id="submit_reg_btn">Register</button>

            <!--TOOLS //-->
        </form>
    </div>

    <!--USER SIGN UP FORM //-->

    <script src=" ./assets/js/jquery-3.5.1.min.js"> </script>
    <script src="./assets/js/bounce.min.js"></script>
    <script src="./assets/js/script.js"></script>
    <script src="./assets/js/register.js"></script>

    <script>
        $('.back_btn').click(function (e) {
            e.preventDefault();
            setTimeout(function (url) {
                window.location = 'index.html';
            }, 500, this.href);
        });


        // ANIMATES PLACEHOLDER ON REGISTER PAGE
        var username_placeholder = document.getElementById('username_reg')
        var password_placeholder = document.getElementById('password_reg')
        var confirmPW_placeholder = document.getElementById('confirm_pw_reg')
        var address_placeholder = document.getElementById('address_reg')
        var mopBucket_label = document.getElementById('mop_check_btn')

        // Username Placeholder
        username_placeholder.onfocus = function () {
            $('.username_label').animate({
                left: '63%',
                opacity: '0'
            }, function () {
                $('.username_popup').fadeIn();
            })
        }
        username_placeholder.onblur = function () {
            $('.username_label').animate({
                left: '65%',
                opacity: '0.5'
            })
            $('.username_popup').fadeOut();
        }

        // Password Placeholder
        password_placeholder.onfocus = function () {
            $('.password_label').animate({
                left: '63%',
                opacity: '0'
            }, function () {
                $('.password_popup').fadeIn();
            })
        }
        password_placeholder.onblur = function () {
            $('.password_label').animate({
                left: '65%',
                opacity: '0.5'
            })
            $('.password_popup').fadeOut();

        }

        // Confirm password Placeholder
        confirmPW_placeholder.onfocus = function () {
            $('.confirm_pw_label').animate({
                left: '63%',
                opacity: '0'
            }, function () {
                $('.confirm_pw_popup').fadeIn();
            })
        }
        confirmPW_placeholder.onblur = function () {
            $('.confirm_pw_label').animate({
                left: '50%',
                opacity: '0.5'
            })
            $('.confirm_pw_popup').fadeOut('fast', function () {
                $('.tools_title, tools_blurb').animate({
                    opacity: '1'
                }, 200, function () {
                    $('.check_wrap, #submit_reg_btn').animate({
                        opacity: '1'
                    })
                })
            })
        }

        // SUBMIT INFO FROM REGISTER PAGE

        document.getElementById('submit_reg_btn').addEventListener("click", function () {
            let username = document.getElementById('username_reg').value;
            let password = document.getElementById('password_reg').value;
            let confirmPassword = document.getElementById('confirm_pw_reg').value;

            let mopTools = document.getElementById('mop_check_btn').value;
            let spongesTools = document.getElementById('sponges_check_btn').value;
            let vacuumTools = document.getElementById('vacuum_check_btn').value;
            let steamerTools = document.getElementById('steamer_check_btn').value;
            let ironTools = document.getElementById('iron_check_btn').value;

            localStorage.setItem('usernameKey', username);
            localStorage.setItem('passwordKey', password);
            localStorage.setItem('confirmPWKey', confirmPassword);
            localStorage.setItem('mopToolsKey', mopTools);
            localStorage.setItem('spongeToolsKey', spongesTools);
            localStorage.setItem('vacuumToolsKey', vacuumTools);
            localStorage.setItem('steamerToolsKey', steamerTools);
            localStorage.setItem('ironToolsKey', ironTools);
        })
        $('#submit_reg_btn').click(function () {
            setTimeout(function () {
                location.href = 'index.html';
            })
        })
    </script>

</body>

</html>